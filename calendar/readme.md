[![Go Report Card](https://goreportcard.com/badge/github.com/mpuzanov/calendar)](https://goreportcard.com/report/github.com/mpuzanov/calendar)

# Cервис "Календарь"

## Описание

Сервис "Календарь" представляет собой максимально упрощенный сервис для хранения календарных событий и оправки уведомлений. 
Сервис предполагает: 
* возможность добавить/обновить событие 
* 
Сервис НЕ предполагает: * авторизации * разграничения доступа * web интерфейса

## API

API - предоставляет GRPC интерфейс для пользователей, реализует основные методы сервиса.

Запуск: ./calendar_api grpc_server -c ./configs/prod/config-s.yaml
Запуск клиента для тестирования: ./calendar_api grpc_client -c ./configs/prod/config-s.yaml

## Web

Планируемый в будущем веб-интерфейс к сервису.
Пока реализовано приветствие пользователю.

Запуск: ./calendar_api web_server -c ./configs/prod/config-s.yaml
Доступно по URL: http://localhost:8888/

## Планировщик - Scheduler

Планировщик - фоновый процесс, не взаимодействует с пользователем, выполняет периодические задания: 
* Выбор событий, требующих уведомления и отправка уведомлений в очередь рассыльщику

Запуск: ./calendar_scheduler -c ./configs/prod/config-scheduler.yaml

## Рассыльщик - Sender

Рассыльщик - фоновый процесс, занимается отправкой уведомлений. В рамках задания нет необходимости реальной отправки сообщений, достаточно если рассыльщик просто будет записывать их в лог.

Запуск: ./calendar_sender -c ./configs/prod/config-sender.yaml

## СУБД 

Используется Postgres

## Очередь сообщений

Используется RabbitMQ

## Компиляция и тестирование

## Докеризация

Поднятие контейнеров с Postgres и RabbitMQ: make db-up  (make db-down)
Поднятие всех сервисов:  make up  (make down)